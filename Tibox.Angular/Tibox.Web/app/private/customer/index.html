<div ng-controller="customerController as vm">
    <h1>Customer Controller</h1>
    <button ng-click="vm.create();" class="btn btn-success btn-sm"
            data-toggle="modal"
            data-target="#modal-container">
        <span class="glyphicon glyphicon-plus"></span> Crear
    </button>

    <table class="table table-responsive">
        <tr>
            <th>{{::vm.headerId}}</th>
            <th>{{::vm.headerFirstName}}</th>
            <th>{{::vm.headerLastName}}</th>
            <th>{{::vm.headerCity}}</th>
            <th>{{::vm.headerCountry}}</th>
            <th>{{::vm.headerPhone}}</th>
            <th></th>
        </tr>
        <tr ng-repeat="customer in vm.customerList">
            <td>{{::customer.id}}</td>
            <td>{{::customer.firstName}}</td>
            <td>{{::customer.lastName}}</td>
            <td>{{::customer.city}}</td>
            <td>{{::customer.country}}</td>
            <td>{{::customer.phone}}</td>
            <td>
                <button ng-click="vm.getCustomer(customer.id); vm.edit();" class="btn btn-success btn-sm"
                        data-toggle="modal"
                        data-target="#modal-container">
                    <span class="glyphicon glyphicon-edit"></span> Editar
                </button>
                <button ng-click="vm.getCustomer(customer.id); vm.Delete();" class="btn btn-danger btn-sm"
                        data-toggle="modal"
                        data-target="#modal-container">
                    <span class="glyphicon glyphicon-erase"></span> Eliminar
                </button>
            </td>
        </tr>
    </table>
    <modal-panel title="{{vm.modalTitle}}"
                 button-title="{{vm.modalButtonTitle}}"
                 save-function="vm.modalFunction"
                 close-function="vm.closeModal"
                 read-only="vm.readOnly"
                 is-delete="vm.isDelete">
        <customer-form customer="vm.customer">
        </customer-form>
    </modal-panel>
</div>

